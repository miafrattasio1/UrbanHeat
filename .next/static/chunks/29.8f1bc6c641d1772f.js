(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{8029:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var i=n(5155),a=n(2115);let r=(0,a.createContext)(null);function s(){let t=(0,a.use)(r);if(null==t)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}var o=n(8741);let h=(0,a.forwardRef)(function({bounds:t,boundsOptions:e,center:n,children:i,className:s,id:h,placeholder:l,style:u,whenReady:d,zoom:c,...f},m){let[_]=(0,a.useState)({className:s,id:h,style:u}),[p,g]=(0,a.useState)(null),v=(0,a.useRef)(void 0);(0,a.useImperativeHandle)(m,()=>p?.map??null,[p]);let w=(0,a.useCallback)(i=>{if(null!==i&&!v.current){let a=new o.Map(i,f);v.current=a,null!=n&&null!=c?a.setView(n,c):null!=t&&a.fitBounds(t,e),null!=d&&a.whenReady(d),g(Object.freeze({__version:1,map:a}))}},[]);(0,a.useEffect)(()=>()=>{p?.map.remove()},[p]);let y=p?a.createElement(r,{value:p},i):l??null;return a.createElement("div",{..._,ref:w},y)});function l(t,e){let n=t.pane??e.pane;return n?{...t,pane:n}:t}n(7650);let u=function(t,e){var n,i;return n=null==e?function(e,n){let i=(0,a.useRef)(void 0);return i.current||(i.current=t(e,n)),i}:function(n,i){let r=(0,a.useRef)(void 0);r.current||(r.current=t(n,i));let s=(0,a.useRef)(n),{instance:o}=r.current;return(0,a.useEffect)(function(){s.current!==n&&(e(o,n,s.current),s.current=n)},[o,n,e]),r},i=function(t){var e;let i=s(),r=n(l(t,i),i);return function(t,e){let n=(0,a.useRef)(e);(0,a.useEffect)(function(){e!==n.current&&null!=t.attributionControl&&(null!=n.current&&t.attributionControl.removeAttribution(n.current),null!=e&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}(i.map,t.attribution),function(t,e){let n=(0,a.useRef)(void 0);(0,a.useEffect)(function(){return null!=e&&t.instance.on(e),n.current=e,function(){null!=n.current&&t.instance.off(n.current),n.current=null}},[t,e])}(r.current,t.eventHandlers),e=r.current,(0,a.useEffect)(function(){return(i.layerContainer??i.map).addLayer(e.instance),function(){i.layerContainer?.removeLayer(e.instance),i.map.removeLayer(e.instance)}},[i,e]),r},(0,a.forwardRef)(function(t,e){let{instance:n}=i(t).current;return(0,a.useImperativeHandle)(e,()=>n),null})}(function({url:t,...e},n){return Object.freeze({instance:new o.TileLayer(t,l(e,n)),context:n,container:void 0})},function(t,e,n){!function(t,e,n){let{opacity:i,zIndex:a}=e;null!=i&&i!==n.opacity&&t.setOpacity(i),null!=a&&a!==n.zIndex&&t.setZIndex(a)}(t,e,n);let{url:i}=e;null!=i&&i!==n.url&&t.setUrl(i)});function d(t){let{points:e}=t,n=s().map;return(0,a.useEffect)(()=>{if(e&&0!==e.length&&n){let t=Math.max(...e.map(t=>{var e;return null!==(e=t.intensity)&&void 0!==e?e:.6})),i=e.map(e=>{var n;return[e.latitude,e.longitude,(null!==(n=e.intensity)&&void 0!==n?n:.6)/t]});n.eachLayer(t=>{var e;(null===(e=t.options)||void 0===e?void 0:e.pane)==="overlayPane"&&n.removeLayer(t)}),window.L.heatLayer(i,{radius:25,blur:15,maxZoom:17,gradient:{0:"blue",.4:"lime",.6:"yellow",.8:"orange",1:"red"}}).addTo(n);let a=i.map(t=>{let[e,n]=t;return[e,n]}),r=window.L.latLngBounds(a);n.fitBounds(r,{padding:[20,20]})}},[n,e]),null}function c(t){let{data:e}=t,[n,r]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{r(!0)},[]),!e||0===e.length)return(0,i.jsx)("p",{children:"No data available"});if(!n)return null;let s=e[0],o=[s.latitude,s.longitude];return(0,i.jsx)("div",{style:{height:"300px",width:"100%"},children:(0,i.jsxs)(h,{center:o,zoom:15,scrollWheelZoom:!1,style:{height:"100%",width:"100%",borderRadius:"8px"},children:[(0,i.jsx)(u,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),(0,i.jsx)(d,{points:e})]})})}n(8413),n(2433)},2433:()=>{!function(){"use strict";function t(e){return this instanceof t?(this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,e){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=e||15;var n=this._circle=document.createElement("canvas"),i=n.getContext("2d"),a=this._r=t+e;return n.width=n.height=2*a,i.shadowOffsetX=i.shadowOffsetY=200,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(a-200,a-200,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},gradient:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=n.createLinearGradient(0,0,0,256);for(var a in e.width=1,e.height=256,t)i.addColorStop(a,t[a]);return n.fillStyle=i,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var n,i=0,a=this._data.length;a>i;i++)n=this._data[i],e.globalAlpha=Math.max(n[2]/this._max,t||.05),e.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var r=e.getImageData(0,0,this._width,this._height);return this._colorize(r.data,this._grad),e.putImageData(r,0,0),this},_colorize:function(t,e){for(var n,i=3,a=t.length;a>i;i+=4)(n=4*t[i])&&(t[i-3]=e[n],t[i-2]=e[n+1],t[i-1]=e[n+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var n=this._map.getSize();t.width=n.x,t.height=n.y;var i=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(i?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,n,i,a,r,s,o,h,l=[],u=this._heat._r,d=this._map.getSize(),c=new L.Bounds(L.point([-u,-u]),d.add([u,u])),f=void 0===this.options.max?1:this.options.max,m=1/Math.pow(2,Math.max(0,Math.min((void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom)-this._map.getZoom(),12))),_=u/2,p=[],g=this._map._getMapPanePos(),v=g.x%_,w=g.y%_;for(t=0,e=this._latlngs.length;e>t;t++)n=this._map.latLngToContainerPoint(this._latlngs[t]),c.contains(n)&&(a=Math.floor((n.x-v)/_)+2,r=Math.floor((n.y-w)/_)+2,h=(void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1)*m,p[r]=p[r]||[],(i=p[r][a])?(i[0]=(i[0]*i[2]+n.x*h)/(i[2]+h),i[1]=(i[1]*i[2]+n.y*h)/(i[2]+h),i[2]+=h):p[r][a]=[n.x,n.y,h]);for(t=0,e=p.length;e>t;t++)if(p[t])for(s=0,o=p[t].length;o>s;s++)(i=p[t][s])&&l.push([Math.round(i[0]),Math.round(i[1]),Math.min(i[2],f)]);this._heat.data(l).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)}},8413:()=>{}}]);